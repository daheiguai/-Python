# GIL锁

## 一、GIL（全局解释器锁）

GIL：全局解释器锁。每个线程在执行的过程都需要先获取GIL，保证同一时刻只有一个线程可以执行代码。

GIL是一个互斥锁（mutex)，它让python一个时间只能有一个线程在进行。平时的多线程都是并发的，而不是实际上的并行

## 二、源头

这是早期cpython解释器的原因，只有试用cPython解释器才会有GIL锁。

而java写的jPython解释器不会产生GIL锁，一般别的语言也没有。

Python语言和GIL没有半毛钱关系。仅仅是由于历史原因在Cpython虚拟机(解释器)，难以移除GIL。

## 三、GIL的自我补救

多线程爬取比单线程性能有提升，因为遇到IO阻塞会自动释放GIL锁

当遇到文件读取、网络通讯等长时间等待操作时，线程会自动切换，轮流一下子发多个请求如何一起等待，节省时间。

线程释放GIL锁的情况： 在IO操作等可能会引起阻塞的system call之前,可以暂时释放GIL,但在执行完毕后,必须重新获取GIL Python 3.x使用计时器（执行时间达到阈值后，当前线程释放GIL）或Python 2.x，tickets计数达到100

## 四、解决GIL

1、不用cPyhton解释器

2、用python调用其他语言来执行

3、Python使用多进程是可以利用多核的CPU资源的。


