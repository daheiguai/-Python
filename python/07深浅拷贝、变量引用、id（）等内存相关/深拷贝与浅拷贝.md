# 一、copy模块

```py
import copy
a = 1
b = a
cop1 = copy.copy(b)   #浅拷贝
cop2 = copy.deepcopy(b)   #深拷贝
```

# 二、a = xxxx   赋值语句     是   指向 引用

基础数据类型不可变，重新赋值改变的是引用

```py
>>> a = 1
>>> id(a)
140730676057760
>>> a = 2
>>> id(a)
140730676057792
>>>
```

#### 一维指向

有点奇怪  a、b并没有划等号  但是给b赋值的时候，判定a、b数值相等   使用同一个引用了

```py
>>> a = 1
>>> b = 1
>>> a is b
True
>>> id(a)
140730676057760
>>> id(b)
140730676057760
```

 ‘ = ’  b指向a  一摸一样的地址

```py
>>> a = 1
>>> b = a
>>> a is b
True
>>> 
```

#### 二维指向

变成数组的二维之后  ，即使a、b的值一样  python也会重新分配空间，a、b的指向不一样

```py
>>> a = [11,22]
>>> b = [11,22]
>>> a == b
True
>>> a is b
False
>>>
```

即使  是  不可变数据类型   元组   也是会重新分配空间的

```py
>>> a = (11,22)
>>> b = (11,22)
>>> a is b
False
>>> a == b
True
```

‘ = ’ b指向a     他们还是一摸一样的地址，元组更是如此。调用方法  一般   如append方法   是不会改变引用的   所以b  append后a的值会一起改变  因为他们的地址一样    

```py
>>> a = [11,22]
>>> b = a
>>> id(a)
1346095663168
>>> id(b)
1346095663168
>>> b.append(33)
>>> a
[11, 22, 33]
>>> 
```

# 三、浅拷贝

- 浅拷贝是对于一个对象的顶层拷贝

- 通俗的理解是：拷贝了引用，并没有拷贝内容

#### 一维浅拷贝

拷贝之后  a、b的地址一摸一样

```py
>>> a = 1
>>> b = copy.copy(a)
>>> a is b
True
>>> 
```

#### 二维浅拷贝

拷贝之后   重新分配空间    ab地址不同

```py
>>> a = [11,22]
>>> b = copy.copy(a)
>>> a is b
False
>>> a == b
True
>>> 
```

但是 ，当a 是不可变数据类型元组后    不会重新分配空间

```py
>>> a = (11,22)
>>> b = copy.copy(a)
>>> a is b
True
>>> 
```

#### 三维浅拷贝

二维  数组型会重新分配空间   ，  但是 前两维的地址还是不变

```py
>>> a = [11,22]
>>> b = [33,44]
>>> c = [a,b]
>>> e = copy.copy(c)
>>> id(c)
2885542232832
>>> id(e)
2885542233344
>>> id(c[0])
2885532842048
>>> id(e[0])
2885532842048
>>> c[0].append(55)
>>> e
[[11, 22, 55], [33, 44]]
>>> 
```

# 三、深拷贝

- 深拷贝是对于一个对象所有层次的拷贝(递归)

**深拷贝和浅拷贝的真正区别体现在三维以上的拷贝中，之前的都和浅拷贝一模一样**

#### 一维深拷贝

即使是深拷贝     一维 的单个数  还是不会重新分配空间

```py
>>> a = 1
>>> b = copy.deepcopy(a)
>>> a is b
True
>>> 
```

#### 二维深拷贝

跟浅拷贝一样     数组还是会重新分配空间

```py
>>> a = [11,22]
>>> b= copy.deepcopy(a)
>>> a is b
False
>>> a == b
True
>>> 
```

跟浅拷贝一样      不可变类型元组   还是不会重新分配空间    

```py
>>> a = (11,22)
>>> b = copy.deepcopy(a)
>>> a is b
True
>>> 
```

#### 三维浅拷贝

不一样   里边所有层次的东西都重新拷贝了

```py
>>> a = [11,22]
>>> b = [33,44]
>>> c = [a,b]
>>> e = copy.deepcopy(c)
>>> id(c[0])
1471296370496
>>> id(e[0])
1471303915008
>>> c[0].append(66)
>>> c
[[11, 22, 66], [33, 44]]
>>> e
[[11, 22], [33, 44]]
>>> 
```

# 四、拷贝的其他方式

分片表达式可以赋值一个序列

![img](img/拷贝的其他方式1.png)

字典的copy方法可以拷贝一个字典

![img](img/拷贝的其他方式2.png)


