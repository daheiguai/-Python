## MVC框架

施乐公司 帕罗奥多研究中心 smalltalk语言 simula67

- MVC的产生理念：
  
  - **分工**。让专门的人去做专门的事。

- MVC的核心思想： 
  
  - **解耦**

M： Model,模型，

V： View,视图，

C： Controller,控制器,

---

## 三层架构

首先来说，三层架构与MVC的目标一致：都是为了解耦和、提高代码复用。MVC是一种设计模式，而三层架构是一种软件架构。

三层架构分为：表现层（UI）(web层)、业务逻辑层（BLL）(service层)、数据访问层（DAL）(dao层) ，再加上实体类库（Model）

1.实体类库（Model），在Java中，往往将其称为Entity实体类。数据库中用于存放数据，而我们通常选择会用一个专门的类来抽象出数据表的结构，类的属性就一对一的对应这表的属性。

·一般来说，Model实体类库层需要被DAL层，BIL层和UI层引用。

2.数据访问层（DAL），主要是存放对数据类的访问，即对数据库的添加、删除、修改、更新等基本操作

 ·DAL就是根据业务需求，构造SQL语句，构造参数，调用帮助类，获取结果，DAL层被BIL层调用

3.业务逻辑层（BLL）

·BLL层好比是桥梁，将UI表示层与DAL数据访问层之间联系起来。所要负责的，就是处理涉及业务逻辑相关的问题，比如在调用访问数据库之前，先处理数据、判断数据。

BLL层只被UIL层引用

#### MVC与三层架构的对应关系，图示如下：

![i](img/MVC&三层架构.png)

---

## MVT

- **M**全拼为Model，与MVC中的M功能相同，负责和数据库交互，进行数据处理。

- **V**全拼为View，与MVC中的C功能相同，接收请求，进行业务处理，返回应答。

- **T**全拼为Template，与MVC中的V功能相同，负责封装构造要返回的html。

Django中MVT的设计是遵守 MVC的流程去执行。

MVT即模型-模版-视图模式，其标准名称是有争议的。在MVC的解释中，视图描述了展现给用户的数据，是指所看到的数据，而不是如何看见它。在python中视图是指对某一特定URL的回调函数，因为回调函数描述了所要展现的数据。模版用于将内容与展现分离。在django中，视图描述了要展现的数据，而视图一般转交给模版。模版描述了数据如何展现,控制器则是指django框架本身，通过URL配置，系统将一个请求发送到一个合适的视图。

MVC:

![I](img/MVC.png)

#### MVT:

![i](img/MVT.webp)

---

## ORM框架

对象关系映射（Object Relational Mapping，简称ORM）是通过使用描述对象和数据库之间映射的元数据，将程序中的对象自动持久化到关系数据库中。

> Ｐｙｔｈｏｎ中的类　---> 表
> 
> Ｐｙｔｈｏｎ里面的类属性　－－－> 字段
> 
> ｐｙｔｈｏｎ 里面的类对象　--->  数据库表里的１条数据

我们是面向对象的。当对象的信息发生变化的时候，我们就需要把对象的信息保存在关系数据库中。程序员会在自己的业务逻辑代码中夹杂很多SQL语句用来增加、读取、修改、删除相关数据，而这些代码通常都是重复的。

ＯＲＭ的出现充当了对象和数据库层次的桥梁作用。

django中内嵌了ORM框架，ORM框架可以将类和数据表进行对应起来，只需要通过类和对象就可以对数据表进行操作。
